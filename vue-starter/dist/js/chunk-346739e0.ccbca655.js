(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-346739e0"],{"271f":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"authentication-wrapper authentication-3"},[s("div",{staticClass:"authentication-inner"},[s("div",{staticClass:"d-none d-lg-flex col-lg-8 align-items-center ui-bg-cover ui-bg-overlay-container p-5",style:"background-image: url('"+e.publicUrl+"img/bg/21.jpg');"},[s("div",{staticClass:"ui-bg-overlay bg-dark opacity-50"}),e._v(" "),e._m(0)]),e._v(" "),s("div",{staticClass:"d-flex col-lg-4 align-items-center bg-white p-5"},[s("div",{staticClass:"d-flex col-sm-7 col-md-5 col-lg-12 px-0 px-xl-4 mx-auto"},[s("div",{staticClass:"w-100"},[s("div",{staticClass:"d-flex justify-content-center align-items-center"},[s("div",{staticClass:"ui-w-60"},[s("div",{staticClass:"w-100 position-relative",staticStyle:{"padding-bottom":"54%"}},[s("svg",{staticClass:"w-100 h-100 position-absolute",attrs:{viewBox:"0 0 148 80",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("defs",[s("linearGradient",{attrs:{id:"a",x1:"46.49",x2:"62.46",y1:"53.39",y2:"48.2",gradientUnits:"userSpaceOnUse"}},[s("stop",{attrs:{"stop-opacity":".25",offset:"0"}}),s("stop",{attrs:{"stop-opacity":".1",offset:".3"}}),s("stop",{attrs:{"stop-opacity":"0",offset:".9"}})],1),s("linearGradient",{attrs:{id:"e",x1:"76.9",x2:"92.64",y1:"26.38",y2:"31.49","xlink:href":"#a"}}),s("linearGradient",{attrs:{id:"d",x1:"107.12",x2:"122.74",y1:"53.41",y2:"48.33","xlink:href":"#a"}})],1),s("path",{staticClass:"fill-primary",attrs:{transform:"translate(-.1)",d:"M121.36,0,104.42,45.08,88.71,3.28A5.09,5.09,0,0,0,83.93,0H64.27A5.09,5.09,0,0,0,59.5,3.28L43.79,45.08,26.85,0H.1L29.43,76.74A5.09,5.09,0,0,0,34.19,80H53.39a5.09,5.09,0,0,0,4.77-3.26L74.1,35l16,41.74A5.09,5.09,0,0,0,94.82,80h18.95a5.09,5.09,0,0,0,4.76-3.24L148.1,0Z"}}),s("path",{attrs:{transform:"translate(-.1)",d:"M52.19,22.73l-8.4,22.35L56.51,78.94a5,5,0,0,0,1.64-2.19l7.34-19.2Z",fill:"url(#a)"}}),s("path",{attrs:{transform:"translate(-.1)",d:"M95.73,22l-7-18.69a5,5,0,0,0-1.64-2.21L74.1,35l8.33,21.79Z",fill:"url(#e)"}}),s("path",{attrs:{transform:"translate(-.1)",d:"M112.73,23l-8.31,22.12,12.66,33.7a5,5,0,0,0,1.45-2l7.3-18.93Z",fill:"url(#d)"}})])])])]),e._v(" "),s("h4",{staticClass:"text-center text-lighter font-weight-normal mt-5 mb-0"},[e._v("注册新账户")]),e._v(" "),s("form",{staticClass:"my-5",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[s("b-form-group",{attrs:{label:"用户名"}},[s("b-input",{attrs:{required:""},on:{blur:e.checkUsername},model:{value:e.credentials.username,callback:function(t){e.$set(e.credentials,"username",t)},expression:"credentials.username"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.error_name,expression:"error_name"}],staticStyle:{color:"red"}},[e._v(e._s(e.error_name_message))])],1),e._v(" "),s("b-form-group",{attrs:{label:"昵称"}},[s("b-input",{attrs:{required:""},on:{blur:e.checkNickname},model:{value:e.credentials.nickname,callback:function(t){e.$set(e.credentials,"nickname",t)},expression:"credentials.nickname"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.error_nickname,expression:"error_nickname"}],staticStyle:{color:"red"}},[e._v(e._s(e.error_nickname_message))])],1),e._v(" "),s("b-form-group",{attrs:{label:"密码"}},[s("b-input",{attrs:{type:"password",required:""},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.error_password,expression:"error_password"}],staticStyle:{color:"red"}},[e._v("密码最少8位, 最长20位")])],1),e._v(" "),s("b-form-group",{attrs:{label:"确认密码"}},[s("b-input",{attrs:{type:"password",required:""},model:{value:e.credentials.password2,callback:function(t){e.$set(e.credentials,"password2",t)},expression:"credentials.password2"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.error_check_password,expression:"error_check_password"}],staticStyle:{color:"red"}},[e._v("两次输入的密码不一致")])],1),e._v(" "),s("b-btn",{staticClass:"mt-4",attrs:{variant:"primary",type:"submit",block:!0}},[e._v("注册")])],1),e._v(" "),e._m(1)])])])])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-100 text-white px-5"},[s("h1",{staticClass:"display-2 font-weight-bolder mb-4"},[e._v("JOIN US"),s("br"),e._v("PLUS+")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center text-muted"},[e._v("\n            已有账号？ "),s("a",{attrs:{href:"/authentication/login"}},[e._v("登录")])])}],n=(s("3e8f"),{name:"pages-authentication-register-v3",metaInfo:{title:"注册"},data:function(){return{credentials:{username:"",nickname:"",password:"",password2:""},error_name:!1,error_nickname:!1,error_password:!1,error_check_password:!1,error_name_message:"",error_nickname_message:""}},methods:{checkUsername:function(){var e=this,t=this.credentials.username.length;t<5||t>20?(this.error_name_message="请输入5-20个字符的用户名",this.error_name=!0):this.error_name=!1,0==this.error_name&&this.$ajax.get(this.$host+"/usernames/"+this.credentials.username+"/count/",{responseType:"json"}).then(function(t){t.data.count>0?(e.error_name_message="用户名已存在",e.error_name=!0):e.error_name=!1}).catch(function(e){console.log(e)})},checkNickname:function(){var e=this,t=this.credentials.nickname.length;t<5||t>20?(this.error_nickname_message="请输入5-20个字符的昵称",this.error_nickname=!0):this.error_nickname=!1,0==this.error_nickname&&this.$ajax.get(this.$host+"/nicknames/"+this.credentials.nickname+"/count/",{responseType:"json"}).then(function(t){t.data.count>0?(e.error_nickname_message="昵称已存在",e.error_nickname=!0):e.error_nickname=!1}).catch(function(e){console.log(e)})},checkPwd:function(){var e=this.credentials.password.length;this.error_password=e<8||e>20},checkCpwd:function(){this.password!=this.password2?this.error_check_password=!0:this.error_check_password=!1},onSubmit:function(){this.checkUsername(),this.checkPwd(),this.checkCpwd(),0==this.error_name&&0==this.error_password&&0==this.error_check_password&&this.$ajax.post(this.$host+"/users/",{username:this.credentials.username,password:this.credentials.password,password_repeat:this.credentials.password2},{responseType:"json"}).then(function(e){sessionStorage.clear(),localStorage.clear(),localStorage.token=e.data.token,localStorage.username=e.data.username,localStorage.user_id=e.data.id,location.href="/"}).catch(function(e){400==e.response.status?console.log(e.response.data):console.log(e.response.status)})}}}),i=n,o=(s("42cd"),s("2877")),c=Object(o["a"])(i,r,a,!1,null,null,null);t["default"]=c.exports},"3e8f":function(e,t){},"42cd":function(e,t,s){"use strict";var r=s("dc35"),a=s.n(r);a.a},dc35:function(e,t,s){}}]);
//# sourceMappingURL=chunk-346739e0.ccbca655.js.map